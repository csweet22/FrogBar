[gd_scene load_steps=16 format=3 uid="uid://cv2oe30rc31yb"]

[ext_resource type="PackedScene" uid="uid://bbbpykewcb80w" path="res://Entities/player.tscn" id="1_0yw4s"]
[ext_resource type="Script" path="res://main_level.gd" id="1_xcfvw"]
[ext_resource type="PackedScene" uid="uid://dt1algih62327" path="res://Menus/hud_menu.tscn" id="2_68xt6"]
[ext_resource type="PackedScene" uid="uid://em305t33pc75" path="res://Entities/frog.tscn" id="3_3qwbp"]
[ext_resource type="PackedScene" uid="uid://dkkakkw3e65qb" path="res://Entities/bar_spawner.tscn" id="3_h8axe"]
[ext_resource type="PackedScene" uid="uid://bn0mrng5e2hc" path="res://tray_scene.tscn" id="5_nllec"]
[ext_resource type="Texture2D" uid="uid://bvqb7uc0hatn1" path="res://textures/CONCRETE.png" id="6_1m2wl"]
[ext_resource type="PackedScene" uid="uid://cmrje141omjg" path="res://Models/circular lilypad table.glb" id="7_e6c3w"]
[ext_resource type="Texture2D" uid="uid://1sjb5nfq2qp2" path="res://Gfx/Martini.png" id="8_fpp5l"]
[ext_resource type="PackedScene" uid="uid://bji8n271yrlso" path="res://Models/rectangular lilypad table.glb" id="10_r2ri1"]
[ext_resource type="PackedScene" uid="uid://dh88oks36xib5" path="res://Models/cattail light.glb" id="11_vwev4"]
[ext_resource type="PackedScene" uid="uid://go4o7i1yvcj4" path="res://Models/generic ceiling lamp.glb" id="12_efkpu"]

[sub_resource type="Environment" id="Environment_nvwhm"]

[sub_resource type="NavigationMesh" id="NavigationMesh_5ocl7"]
vertices = PackedVector3Array(-7.5, 0.2, -7.5, -7.5, 0.2, 7.5, 7.5, 0.2, 7.5, 7.5, 0.2, -7.5)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1)]
cell_size = 0.1
cell_height = 0.1

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_7ms2y"]
albedo_texture = ExtResource("6_1m2wl")
uv1_scale = Vector3(2, 2, 2)

[node name="MainLevel" type="Node3D"]
script = ExtResource("1_xcfvw")

[node name="Player" parent="." instance=ExtResource("1_0yw4s")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)

[node name="Camera3D" type="Camera3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 0)
cull_mask = 1048573
environment = SubResource("Environment_nvwhm")
fov = 90.0
near = 0.001

[node name="HudMenu" parent="." instance=ExtResource("2_68xt6")]
z_index = 10

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.670564, 0.252909, 0.69741, 0.61303, -0.34051, 0.712915, 0.417778, 0.905588, 0.0732933, 3.47841, 2.61886, 0)

[node name="Frog" parent="." instance=ExtResource("3_3qwbp")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.6835, 0.189912, -4.9626)

[node name="Frog2" parent="." instance=ExtResource("3_3qwbp")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.07927, 0, -1.90185)
can_move = true

[node name="Frog3" parent="." instance=ExtResource("3_3qwbp")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.90511, 0, 1.71893)
can_move = true

[node name="Frog4" parent="." instance=ExtResource("3_3qwbp")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.25025, 0, 1.71893)
can_move = true

[node name="Frog5" parent="." instance=ExtResource("3_3qwbp")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.26229, 0, -4.12766)
can_move = true

[node name="Frog6" parent="." instance=ExtResource("3_3qwbp")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.93183, 0, 3.46778)
can_move = true

[node name="Frog7" parent="." instance=ExtResource("3_3qwbp")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.30607, 0, 5.35702)
can_move = true

[node name="Frog8" parent="." instance=ExtResource("3_3qwbp")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.01728, 0, 5.03952)
can_move = true

[node name="bar_spawner" parent="." instance=ExtResource("3_h8axe")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4, 0, -7)

[node name="Label3D" type="Label3D" parent="bar_spawner"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0.6)
text = "DRINK A"

[node name="bar_spawner2" parent="." instance=ExtResource("3_h8axe")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -7)
drink_type = 2

[node name="Label3D" type="Label3D" parent="bar_spawner2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0.6)
text = "DRINK B"

[node name="bar_spawner3" parent="." instance=ExtResource("3_h8axe")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 0, -7)
drink_type = 3

[node name="Label3D" type="Label3D" parent="bar_spawner3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0.6)
text = "DRINK C"

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_5ocl7")

[node name="Floor" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.557739, -0.5, 0)
use_collision = true
size = Vector3(26.1765, 1, 16)
material = SubResource("StandardMaterial3D_7ms2y")

[node name="TrayScene" parent="." instance=ExtResource("5_nllec")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 100, 0)

[node name="Mesh (Assets)" type="Node3D" parent="."]

[node name="circular lilypad table" parent="Mesh (Assets)" instance=ExtResource("7_e6c3w")]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, -6.68697, 0, 1.46137)

[node name="Sprite3D" type="Sprite3D" parent="Mesh (Assets)"]
transform = Transform3D(0.05, 0, 0, 0, 0.05, 0, 0, 0, 0.05, -3.96612, 1.37888, -6.97499)
billboard = 2
texture = ExtResource("8_fpp5l")

[node name="rectangular lilypad table" parent="Mesh (Assets)" instance=ExtResource("10_r2ri1")]
transform = Transform3D(-0.25, 0, -0.433013, 0, 0.5, 0, 0.433013, 0, -0.25, -0.326966, 0, -1.87192)

[node name="generic ceiling lamp2" parent="Mesh (Assets)" instance=ExtResource("12_efkpu")]
transform = Transform3D(0.155291, 0, -0.579555, 0, 0.6, 0, 0.579555, 0, 0.155291, -0.741084, 1.55638, -1.09154)

[node name="generic ceiling lamp" parent="Mesh (Assets)" instance=ExtResource("12_efkpu")]
transform = Transform3D(0.155291, 0, -0.579555, 0, 0.6, 0, 0.579555, 0, 0.155291, 0.167873, 1.55136, -2.64811)

[node name="cattail light2" parent="Mesh (Assets)" instance=ExtResource("11_vwev4")]
transform = Transform3D(0.75, 0, 0, 0, 0.75, 0, 0, 0, 0.75, 2.671, 1.52655, -7.27813)

[node name="cattail light" parent="Mesh (Assets)" instance=ExtResource("11_vwev4")]
transform = Transform3D(0.75, 0, 0, 0, 0.75, 0, 0, 0, 0.75, -2.1713, 1.5301, -7.37419)

[node name="rectangular lilypad table2" parent="Mesh (Assets)" instance=ExtResource("10_r2ri1")]
transform = Transform3D(0.25, 0, 0.433013, 0, 0.5, 0, -0.433013, 0, 0.25, 3.79176, -4.76837e-07, -1.7663)

[node name="rectangular lilypad table3" parent="Mesh (Assets)" instance=ExtResource("10_r2ri1")]
transform = Transform3D(-0.25, 0, 0.433013, 0, 0.5, 0, -0.433013, 0, -0.25, -4.71744, -9.53674e-07, -2.09989)

[node name="rectangular lilypad table4" parent="Mesh (Assets)" instance=ExtResource("10_r2ri1")]
transform = Transform3D(-2.18557e-08, 0, -0.5, 0, 0.5, 0, 0.5, 0, -2.18557e-08, -10.4702, 0, -2.0142)

[connection signal="pushed" from="Player" to="TrayScene" method="_on_player_pushed"]
[connection signal="rotated" from="Player" to="TrayScene" method="_on_player_rotated"]
[connection signal="spawn_drink" from="bar_spawner" to="TrayScene" method="_on_bar_spawner_spawn_drink"]
[connection signal="spawn_drink" from="bar_spawner2" to="TrayScene" method="_on_bar_spawner_spawn_drink"]
[connection signal="spawn_drink" from="bar_spawner3" to="TrayScene" method="_on_bar_spawner_spawn_drink"]
